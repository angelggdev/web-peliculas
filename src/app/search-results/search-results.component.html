<h1 style="margin: 10px 60px 10px 60px">BUSCAR: {{ search }}</h1>

<hr style="height: 2px; color: black" />

<!-- Renders the Movie List Component passing the search results -->
<app-movie-list [movieList]="movieList" [loading]="loading"> </app-movie-list>

<div>
  <!-- Paginator -->
  <div class="paginator" *ngIf="!loading ; else spinner">
    <ul class="pagination">
      <li class="page-item" [ngClass]="{ disabled: (page === 1) || !totalPages}">
        <a
          class="page-link"
          [href]="'/resultados/' + search + '/' + (page - 1)"
          [tabindex]="(page === 1) || !totalPages? -1 : null"
          >Previous</a
        >
      </li>
      <li class="page-item" *ngIf="page > 2 && totalPages > 7">
        <a class="page-link" [href]="'/resultados/' + search + '/' + 1">1</a>
      </li>
      <li class="page-item" *ngIf="page > 1 && totalPages > 7">
        <a
          class="page-link"
          [href]="
            '/resultados/' + search + '/' + (page >= 6 ? page - 6 : page - 1)
          "
          >...</a
        >
      </li>
      <li
        class="page-item"
        *ngFor="let x of paginatorArray; let i = index"
        [ngClass]="{ disabled: page === x }"
      >
        <a
          class="page-link"
          [href]="'/resultados/' + search + '/' + x"
          [tabindex]="page === x ? -1 : null"
          >{{ x }}
        </a>
      </li>
      <li class="page-item" *ngIf="page < totalPages - 6 && totalPages > 7">
        <a class="page-link" [href]="'/resultados/' + search + '/' + (page + 6)"
          >...</a
        >
      </li>
      <li class="page-item" *ngIf="(page <= totalPages - 6) && totalPages > 7">
        <a
          class="page-link"
          [href]="'/resultados/' + search + '/' + totalPages"
          >{{ totalPages }}</a
        >
      </li>
      <li class="page-item" [ngClass]="{ disabled: (page === totalPages) || !totalPages}">
        <a
          class="page-link"
          [href]="'/resultados/' + search + '/' + (page - 1)"
          [tabindex]="(page === totalPages) || !totalPages ? -1 : null"
          >Next</a
        >
      </li>
    </ul>
  </div>
  <!-- ///// -->

  <!-- Spinner -->
  <ng-template #spinner>
    <div class="spinner-container">
      <div class="spinner-grow" role="status">
        <span class="sr-only"></span>
      </div>
    </div>
  </ng-template>
</div>
