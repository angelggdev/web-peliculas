<app-billboard [movieList]="movieList" [loading]="loading"></app-billboard>
<div *ngIf="!loading; else spinner">
  <h2 class="movies-title">Pel√≠culas</h2>
  <app-movie-list [movieList]="movieList" [loading]="loading"> </app-movie-list>
  <div
      class="paginator"
  >
    <ul class="pagination">
      <li class="page-item" [ngClass]="{ disabled: page === 1 }">
        <a class="page-link" [href]="'/cartelera/' + (page - 1)" [tabindex]="page === 1 ? -1 : null"
          >Previous</a
        >
      </li>
      <li class="page-item" *ngIf="page > 2">
        <a class="page-link" [href]="'/cartelera/' + 1" >1</a>
      </li>
      <li class="page-item" *ngIf="page > 1">
          <a class="page-link" [href]="'/cartelera/' + ((page >= 6) ? (page - 6): (page-1))" 
            >...</a
          >
      </li>
      <li     
          class="page-item" 
          *ngFor="let x of paginatorArray; let i = index"
          [ngClass]="{ disabled: page === x }"
      >
        <a class="page-link" [href]="'/cartelera/' + x" [tabindex]="page === x ? -1 : null">{{ x }} </a>
      </li>
      <li class="page-item" *ngIf="page < totalPages-6">
          <a class="page-link" [href]="'/cartelera/' + (page + 6)" 
            >...</a
          >
      </li>
      <li class="page-item" *ngIf="page <= totalPages-6">
        <a class="page-link" [href]="'/cartelera/' + totalPages" >{{ totalPages }}</a>
      </li>
      <li class="page-item" [ngClass]="{ disabled: page === totalPages }">
        <a class="page-link" [href]="'/cartelera/' + (page - 1)" [tabindex]="page === totalPages ? -1 : null">Next</a>
      </li>
    </ul>
  </div>
</div>
<ng-template #spinner >
  <div style="display:flex; align-items: center; justify-content: center; ">
    <div class="spinner-grow" role="status">
      <span class="sr-only"></span>
    </div>
  </div>
</ng-template> 
